@model dynamic

<script>
function mainModal() {
    new ZermosModal()
    .addHeading({text: "Wil je Zermos installeren?"})
    .addText({text: "Zermos is een webapplicatie die je kan installeren op je telefoon of computer. Hierdoor kan je Zermos ook gebruiken als een app, zonder dat je een browser nodig hebt."})
    .addText({text: "Momenteel kan je kiezen uit 3 versies van Zermos:"})
    .addList({items: [
        "Gebruiken als webapplicatie (deze versie)",
        "Gebruiken als Android app",
        "Gebruiken als Windows app",
        "Gebruiken als Progressive Web App"
    ], listType: "ul"})
    .addText({text: "Kies de versie die je wilt installeren:"})
    .addDropdown({options: [
        {label: "Webapplicatie", value: "web"},
        {label: "Android app", value: "android"},
        {label: "Windows app", value: "windows"},
        {label: "Progressive Web App", value: "pwa"}
    ], id: "version"})
    .addButton({text: "Installeren", onClick: (ctx) => {
        
            console.log(ctx.getComponentsValue().values[0].value.value);
        
            var value = ctx.getComponentsValue().values[0].value.value;
            
            if (value === "web") 
                alreadyInstalled();    
            else if (value === "android") 
                installAndroidApp(); 
            else if (value === "windows") 
                installWindowsApp();
            else if (value === "pwa") 
               installPWA();
            
            ctx.close();
        
    }})
    .openTroughAppending(main)
}

function alreadyInstalled() {
    new ZermosModal()
    .addHeading({text: "Zermos is al geïnstalleerd"})
    .addText({text: "Je hebt Zermos nu al als webapplicatie. Waarom zou je het nog een keer installeren?"})
    .addButton({text: "Terug", onClick: (ctx) => {ctx.close(); mainModal()}})
    .openTroughAppending(main)
}

function installAndroidApp() {
    window.location.href = "/Installeren/Zermos.apk";
    
    new ZermosModal()
    .addHeading({text: "Bedankt voor het installeren van Zermos!"})
    .addText({text: "Je kan de app nu installeren op je telefoon."})
    .openTroughAppending(main)
}

function installWindowsApp() {
    window.location.href = "/Installeren/Zermos.exe";
    
    new ZermosModal()
    .addHeading({text: "Bedankt voor het installeren van Zermos!"})
    .addText({text: "Je kan de app nu installeren op je computer."})
    .openTroughAppending(main)
}

function installPWA() {
    new ZermosModal()
    .addHeading({text: "Zermos installeren als Progressive Web App"})
    .addText({text: "Zermos kan je installeren als Progressive Web App. Hierdoor kan je Zermos gebruiken als een app, zonder dat je een browser nodig hebt."})
    .openTroughAppending(main);
    
    showUserInstallAppBanner();
}

mainModal();
</script>